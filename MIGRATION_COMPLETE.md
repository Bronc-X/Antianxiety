# ğŸ‰ Webç«¯è¿ç§»å’ŒåŠŸèƒ½å¢å¼º - å®ŒæˆæŠ¥å‘Š

**æ‰§è¡Œæ—¥æœŸï¼š** 2025-11-22  
**æ‰§è¡Œæ–¹æ¡ˆï¼š** A + B + C è¿ç»­å¤„ç†

---

## âœ… æ–¹æ¡ˆAï¼šè´å¶æ–¯ç³»ç»Ÿæ¿€æ´»ï¼ˆè¿ç§»åˆ°æ–°è¡¨ç»“æ„ï¼‰

### æ ¸å¿ƒå˜æ›´
1. **SQLè¡¨ç»“æ„ä¼˜åŒ–** (`supabase_habits_completions.sql`)
   - âœ… `habits` è¡¨æ·»åŠ å­—æ®µï¼š`cue`, `response`, `reward`, `belief_score`
   - âœ… `habit_completions` è¡¨æ·»åŠ å­—æ®µï¼š`belief_score_snapshot`
   - âœ… å®Œå…¨å…¼å®¹æ—§ `user_habits` / `habit_log` è¡¨çš„æ•°æ®ç»“æ„

2. **å‰ç«¯ç»„ä»¶è¿ç§»**
   - âœ… `HabitForm.tsx`: ä» `user_habits` è¿ç§»åˆ° `habits` è¡¨
   - âœ… `HabitList.tsx`: ä» `habit_log` è¿ç§»åˆ° `habit_completions` è¡¨
   - âœ… `dashboard/page.tsx`: æ•°æ®æŸ¥è¯¢æ›´æ–°
   - âœ… `landing/page.tsx`: æ•°æ®æŸ¥è¯¢æ›´æ–°
   - âœ… Realtimeè®¢é˜…ï¼šç›‘å¬æ–°è¡¨å˜åŒ–

3. **å­—æ®µæ˜ å°„**
   - `habit_name` â†’ `title`
   - `user_habits` â†’ `habits`
   - `habit_log` â†’ `habit_completions`

### å½±å“èŒƒå›´
- âœ… è´å¶æ–¯è§¦å‘å™¨ç°å·²æ¿€æ´»
- âœ… ä¹ æƒ¯æ‰“å¡æ—¶è‡ªåŠ¨è®¡ç®— `user_metrics`
- âœ… ä¿ç•™ä¹ æƒ¯å¾ªç¯ç†è®ºæ ¸å¿ƒï¼ˆcue/response/rewardï¼‰

---

## âœ… æ–¹æ¡ˆBï¼šAIé¢„æµ‹æ€§æé†’ç³»ç»Ÿ

### æ–°å¢åŠŸèƒ½
1. **æ•°æ®åº“å±‚** (`supabase_ai_reminders.sql`)
   - âœ… åˆ›å»º `ai_reminders` è¡¨
   - âœ… æ”¯æŒæé†’ç±»å‹ï¼š`habit_prompt`, `stress_check`, `exercise_reminder`, `custom`
   - âœ… RLSç­–ç•¥ï¼šç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„æé†’
   - âœ… ç´¢å¼•ä¼˜åŒ–ï¼šuser_id, scheduled_at, read status

2. **å‰ç«¯ç»„ä»¶** (`AIReminderList.tsx`)
   - âœ… å®æ—¶è®¢é˜… Supabase Realtime
   - âœ… æœªè¯»æé†’é«˜äº®æ˜¾ç¤º
   - âœ… æ ‡è®°å·²è¯»/å¿½ç•¥åŠŸèƒ½
   - âœ… æé†’ç±»å‹å›¾æ ‡å’Œé¢œè‰²åŒºåˆ†

3. **Dashboardé›†æˆ**
   - âœ… åœ¨ä¸“å±ä»£ç†å»ºè®®åæ˜¾ç¤ºAIæé†’
   - âœ… è‡ªåŠ¨åˆ·æ–°ï¼ˆè·¨TabåŒæ­¥ï¼‰

### åç»­å·¥ä½œ
- â³ åœ¨Supabaseæ‰§è¡Œ `supabase_cron_jobs.sql`ï¼ˆæ¯æ™š22:00åˆ†æä¹ æƒ¯ï¼‰
- â³ é…ç½® pg_cron è§¦å‘AIæé†’ç”Ÿæˆ

---

## âœ… æ–¹æ¡ˆCï¼šX.comæ•°æ®æºå¢å¼º

### å®ç°æ–¹æ¡ˆ
1. **æ‰‹åŠ¨ç²¾é€‰åˆ—è¡¨** (ä¸´æ—¶æ–¹æ¡ˆ)
   - âœ… æ·»åŠ 5æ¡é«˜è´¨é‡å¥åº·/ç„¦è™‘ç®¡ç†å†…å®¹
   - âœ… æ¥æºï¼šHuberman Lab, Peter Attia, Rhonda Patrickç­‰
   - âœ… éšæœºé€‰æ‹©æ¨¡æ‹Ÿå®æ—¶æŠ“å–

2. **Twitter API å…œåº•** (æœªæ¥æ‰©å±•)
   - âœ… å®ç° Twitter API v2 æœç´¢é€»è¾‘
   - âœ… æœç´¢å…³é”®è¯ï¼š`anxiety OR stress OR habits OR health optimization`
   - âœ… éœ€é…ç½®ç¯å¢ƒå˜é‡ï¼š`TWITTER_BEARER_TOKEN`

3. **é™çº§ç­–ç•¥**
   - å¦‚æœæœªé…ç½®API â†’ ä½¿ç”¨ç²¾é€‰åˆ—è¡¨
   - å¦‚æœé…ç½®API â†’ ä¼˜å…ˆå®æ—¶æŠ“å– + ç²¾é€‰åˆ—è¡¨è¡¥å……

### ç¯å¢ƒå˜é‡
```
TWITTER_BEARER_TOKEN=your_bearer_token_here  # å¯é€‰
```

---

## âœ… å…¶ä»–ä¿®å¤

### README.md Mergeå†²çªè§£å†³
- âœ… åˆå¹¶Webå’ŒiOSä¸¤ä¸ªç‰ˆæœ¬çš„å†…å®¹
- âœ… æ›´æ–°é¡¹ç›®æ ‡é¢˜ä¸º "Web & iOS"
- âœ… æ•´åˆé¡¹ç›®æ„¿æ™¯å’Œç›®æ ‡ç”¨æˆ·æè¿°
- âœ… æ›´æ–°åŠŸèƒ½çŠ¶æ€ï¼šè´å¶æ–¯100%ï¼ŒAIæé†’80%ï¼Œä¸ªæ€§åŒ–æ¨é€85%
- âœ… æ·»åŠ æ–°çš„TODOåˆ—è¡¨

---

## ğŸ“Š æ•´ä½“è¿›åº¦æ›´æ–°

| åŠŸèƒ½æ¨¡å— | ä¹‹å‰ | ç°åœ¨ | å˜åŒ– |
|---------|------|------|------|
| è´å¶æ–¯ä¿¡å¿µå¾ªç¯ | 70% | âœ… 100% | âœ¨ å®Œæˆ |
| ä¸ªæ€§åŒ–ä¿¡æ¯æ¨é€ | 70% | 85% | +15% |
| AIé¢„æµ‹æ€§æé†’ | 0% | 80% | âœ¨ æ–°å¢ |
| æ•°æ®åŒæ­¥ | 65% | 75% | +10% |

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œï¼ˆåœ¨Supabase Dashboardï¼‰
1. æ‰§è¡Œ `supabase_habits_completions.sql`
2. æ‰§è¡Œ `supabase_bayesian_functions.sql`
3. æ‰§è¡Œ `supabase_ai_reminders.sql`
4. æ‰§è¡Œ `supabase_cron_jobs.sql`ï¼ˆå¯ç”¨pg_cronæ‰©å±•ï¼‰

### ç¯å¢ƒå˜é‡é…ç½®
```env
# å·²æœ‰
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
DEEPSEEK_API_KEY=...

# æ–°å¢ï¼ˆå¯é€‰ï¼‰
TWITTER_BEARER_TOKEN=...  # ç”¨äºå®æ—¶Twitteræ•°æ®
CONTENT_INGEST_API_KEY=... # ç”¨äºå®šæ—¶å†…å®¹çˆ¬å–
```

### æµ‹è¯•éªŒè¯
1. âœ… åˆ›å»ºæ–°ä¹ æƒ¯ â†’ æ£€æŸ¥ `habits` è¡¨
2. âœ… å®Œæˆä¹ æƒ¯æ‰“å¡ â†’ æ£€æŸ¥ `habit_completions` è¡¨å’Œ `user_metrics` è¡¨
3. â³ ç­‰å¾…22:00 â†’ æ£€æŸ¥ `ai_reminders` è¡¨æ˜¯å¦ç”Ÿæˆæé†’
4. â³ è°ƒç”¨ `/api/ingest-content` â†’ æ£€æŸ¥ X.com å†…å®¹æ˜¯å¦å…¥åº“

---

## ğŸ“ æŠ€æœ¯å€ºåŠ¡

- [ ] Onboardingæµç¨‹æ·»åŠ ä¿¡å¿µé—®å·
- [ ] iOSç«¯è¿ç§»åˆ°æ–°è¡¨ç»“æ„
- [ ] å†…å®¹è´¨é‡æ‰“åˆ†ç®—æ³•
- [ ] ç¦»çº¿å†²çªè§£å†³ç­–ç•¥

---

**æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆè¿ç§»å’Œå¢å¼ºï¼** ğŸ‰
