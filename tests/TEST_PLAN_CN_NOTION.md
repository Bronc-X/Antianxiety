# ğŸ§ª å…¨é“¾è·¯éªŒæ”¶æµ‹è¯•è®¡åˆ’ (Solo Tester Edition)

> **å¯¼è¯»**ï¼šè¿™æ˜¯ä¸ºä½ ä¸ªäººæµ‹è¯•é‡èº«å®šåˆ¶çš„â€œNotion é£æ ¼â€ä»ªè¡¨ç›˜ã€‚  
> æ ¸å¿ƒé€»è¾‘ï¼š**å·¦æ‰‹ç‚¹ç•Œé¢ï¼Œå³æ‰‹è·‘ SQL**ã€‚  
> ç›®æ ‡ï¼šç¡®è®¤è¿™å¥—è¯„ä¼°ç³»ç»Ÿæ˜¯æ´»çš„ã€å‡†çš„ã€å®‰å…¨çš„ã€‚

---

## ğŸ› ï¸ å‡†å¤‡å·¥ä½œ (Ready)

1. **è·å–ä½ çš„ User ID (UID)**  
   - åœ¨ Supabase åå° `auth.users` è¡¨é‡Œæ‰¾åˆ°ä½ çš„ IDï¼Œå¤åˆ¶å¤‡ç”¨ã€‚
   - *æˆ–è€…* F12 -> Application -> Local Storage -> æ‰¾ `user.id`ã€‚

2. **å‡†å¤‡æµ‹è¯•è´¦å·**  
   - ä½ åªéœ€è¦**ä¸€ä¸ª**è´¦å·å³å¯å®Œæˆæ‰€æœ‰æµ‹è¯•ã€‚æˆ‘ä»¬ä¼šé€šè¿‡ä¿®æ”¹æ•°æ®æ¥æ¨¡æ‹Ÿä¸åŒçŠ¶æ€ã€‚

---

## A+. 2025 å‰æ²¿ UI éªŒæ”¶ (Calm Luxury) ğŸ’

> **ç›®æ ‡**ï¼šéªŒè¯ Web ç«¯æ˜¯å¦è¾¾åˆ°è®¾è®¡å›¾çš„â€œé™å¥¢â€æ ‡å‡†ã€‚

- [ ] **P1. æ´»ä½“çº¹ç† (Alive Texture)**
    - **æ“ä½œ**ï¼šè§‚å¯Ÿé¡µé¢èƒŒæ™¯ã€‚
    - **é¢„æœŸ**ï¼šéæ­»æ¿çº¯è‰²ï¼Œæœ‰ä¸€å±‚åŠé€æ˜çš„å™ªç‚¹å±‚åœ¨å¾®å¼±è·³åŠ¨ (CSS Animation)ã€‚

- [ ] **P2. å™äº‹æ€§æ»šåŠ¨ (Scrollytelling)**
    - **æ“ä½œ**ï¼šåœ¨ Landing é¡µç¼“æ…¢ä¸‹æ»šã€‚
    - **é¢„æœŸ**ï¼šé¦–å±å¤§æ ‡é¢˜åº”ä¼´éšæ»šåŠ¨äº§ç”Ÿè§†å·®ä½ç§»å’Œé€æ˜åº¦å˜åŒ–ï¼Œä¸ä»…æ˜¯ç®€å•çš„æ»šåŠ¨ã€‚

- [ ] **P3. æ¶²æ€å¯¼èˆª (Liquid Nav) - Desktop**
    - **æ“ä½œ**ï¼š(ç”µè„‘ç«¯) é¼ æ ‡åˆ’è¿‡é¡¶éƒ¨å¯¼èˆªæ çš„èœå•é¡¹ã€‚
    - **é¢„æœŸ**ï¼šä¸€ä¸ªç™½è‰²çš„å…‰å½±èƒ¶å›Š (Pill) åƒæ¶²ä½“ä¸€æ ·è·Ÿéšé¼ æ ‡åœ¨é€‰é¡¹é—´æµåŠ¨ï¼Œè€Œä¸æ˜¯ç¬é—´æ¶ˆå¤±å‡ºç°ã€‚

---

## A. æ³¨å†Œä¸åŸºçº¿è¯„ä¼° (Onboarding)

> **ç›®æ ‡**ï¼šéªŒè¯â€œç¬¬ä¸€æ¬¡â€æ˜¯ä¸æ˜¯å®Œç¾çš„ã€‚

- [ ] **A1. å®Œæ•´æµç¨‹é€šå…³**
    - **æ“ä½œ**ï¼šæ–°æ³¨å†Œè´¦å· -> å®Œæˆ 23 é“åŸºçº¿é—®å· -> æäº¤ã€‚
    - **é¢„æœŸ**ï¼šé¡ºåˆ©è¿›å…¥ Dashboardï¼Œæ²¡ç™½å±ï¼Œæ²¡æŠ¥é”™ã€‚
    - **éªŒè¯ (SQL)**ï¼š
      ```sql
      -- åº”è¯¥æŸ¥å‡º >= 23 æ¡è®°å½•
      select count(*) from user_scale_responses where user_id = '<UID>';
      ```

- [ ] **A2. ä¸­é€”â€œåæ‚”â€æµ‹è¯• (æš‚åœç»­ä¼ )**
    - **æ“ä½œ**ï¼šåšåˆ°ç¬¬ 5 é¢˜ -> åˆ·æ–°æµè§ˆå™¨/å…³é—­é¡µé¢ -> é‡æ–°æ‰“å¼€ã€‚
    - **é¢„æœŸ**ï¼šåº”è¯¥åœç•™åœ¨ç¬¬ 5 é¢˜ï¼Œè€Œä¸æ˜¯ä»å¤´å¼€å§‹ã€‚

- [ ] **A3. å±æœºå¹²é¢„æµ‹è¯•**
    - **æ“ä½œ**ï¼š(å¯é€‰ï¼Œå¯åç»­åœ¨ Monthly æµ‹) PHQ-9 ç¬¬ 9 é¢˜é€‰â€œæœ‰å‡ å¤©/é¢‘ç¹â€ (>=1åˆ†)ã€‚
    - **é¢„æœŸ**ï¼šå¿…é¡»å¼¹çª—æç¤ºâ€œå¯»æ±‚ä¸“ä¸šå¸®åŠ©â€ï¼Œä¸”åå°ç•™ä¸‹è®°å½•ã€‚

---

## B. æ¯æ—¥æ ¡å‡† (Daily Calibration)

> **ç›®æ ‡**ï¼šè¿™æ˜¯ç”¨æˆ·æ¯å¤©ç”¨çš„åŠŸèƒ½ï¼Œå¿…é¡»ä¸èˆ¬é¡ºæ»‘ã€‚

- [ ] **B1. æ­£å¸¸æ‰“å¡**
    - **æ“ä½œ**ï¼šç‚¹å‡»é¦–é¡µâ€œæ¯æ—¥æ ¡å‡†â€ -> å®Œæˆ 5 é¢˜ã€‚
    - **é¢„æœŸ**ï¼š
      1. é¢˜ç›®åŒ…å«ï¼šç„¦è™‘(2) + ç¡çœ (2) + å‹åŠ›(1)ã€‚
      2. ç»“æœé¡µæ˜¾ç¤ºä»Šæ—¥çŠ¶æ€æŒ‡æ•° (Daily Index)ã€‚
    - **éªŒè¯ (SQL)**ï¼š
      ```sql
      -- ä»Šæ—¥åº”è¯¥æœ‰ 5 æ¡æ–°è®°å½•ï¼Œsource='daily'
      select question_id, answer_value 
      from user_scale_responses 
      where user_id = '<UID>' and response_date = current_date;
      ```

- [ ] **B2. â€œçº¢æ——â€æŠ¥è­¦æµ‹è¯•**
    - **æ“ä½œ**ï¼š(æ˜å¤©æµ‹ï¼Œæˆ–åˆ æ‰ä»Šæ—¥è®°å½•é‡æµ‹) ç¡çœ é€‰ < 5å°æ—¶ï¼Œæˆ–è€…å‹åŠ›é€‰æœ€å¤§ã€‚
    - **é¢„æœŸ**ï¼šç»“æœé¡µä¸åº”è¯¥åªæ˜¯å†·å†°å†°çš„åˆ†æ•°ï¼Œè¦æœ‰ **â€œRed Flagâ€** æç¤º (Status requires attention)ã€‚

- [ ] **B3. é¢‘ç‡è‡ªåŠ¨é™ä½ (æ—¶å…‰æœºæµ‹è¯•) ğŸ•°ï¸**
    - **æ“ä½œ**ï¼šå…ˆåœ¨ SQL ç¼–è¾‘å™¨è¿è¡Œä¸‹é¢çš„ã€é€ æ•°æ®è„šæœ¬ã€‘ï¼Œå‡è£…ä½ è¿‡å» 7 å¤©éƒ½å¾ˆå¥åº·ã€‚
      ```sql
      -- âš ï¸ å…ˆæŠŠ <UID> æ¢æˆä½ çš„ ID å†è¿è¡Œ
      insert into user_scale_responses (id, user_id, scale_id, question_id, answer_value, source, response_date, created_at)
      select gen_random_uuid(), '<UID>', 'DAILY', q.qid, q.val, 'daily', (current_date - (d || ' day')::interval)::date, now()
      from generate_series(1, 7) d
      cross join (values ('gad7_q1',0), ('daily_sleep_duration',420)) as q(qid, val);
      ```
    - **é¢„æœŸ**ï¼šå›åˆ°é¦–é¡µåˆ·æ–°ï¼Œæ¯æ—¥æ ¡å‡†åº”è¯¥å»ºè®®ä½  **â€œä¼‘æ¯ (Rest Day)â€** æˆ–é¢‘ç‡å˜ä¸º **â€œéš”æ—¥ (Every Other Day)â€**ã€‚

---

## C. å‘¨æœŸæ€§è¯„ä¼° (Weekly/Monthly)

> **ç›®æ ‡**ï¼šéªŒè¯é•¿å‘¨æœŸçš„é€»è¾‘æœ‰æ²¡æœ‰è¢«çŸ­å‘¨æœŸè¦†ç›–ã€‚

- [ ] **C1. å‘¨è¯„ä¼° (Weekly)**
    - **æ“ä½œ**ï¼šæ‰¾åˆ°å‘¨è¯„ä¼°å…¥å£ (æˆ–ç”¨ DevTools å¼ºå¼€) -> å®Œæˆã€‚
    - **é¢„æœŸ**ï¼šåŒ…å« PSS-4 (å‹åŠ›) + 1 é“è¿›åŒ–é¢˜ (æ–‡æœ¬/å•é€‰)ã€‚
    - **éªŒè¯ (SQL)**ï¼š
      ```sql
      -- æ£€æŸ¥ answer_text æ˜¯å¦å­˜äº†ä½ çš„æ–‡æœ¬å›ç­”
      select question_id, answer_text 
      from user_scale_responses 
      where user_id = '<UID>' and scale_id = 'WEEKLY' order by created_at desc limit 1;
      ```

- [ ] **C2. æœˆè¯„ä¼°ä¸åˆ†æ•°åˆå¹¶**
    - **æ“ä½œ**ï¼šå®Œæˆæœˆåº¦è¯„ä¼°ã€‚
    - **éªŒè¯ (SQL)**ï¼šæ£€æŸ¥ `profiles` è¡¨ï¼Œç¡®è®¤ `inferred_scale_scores` é‡ŒåŒæ—¶æœ‰ daily çš„æ•°æ®å’Œ monthly çš„æ•°æ®ï¼Œè€Œä¸æ˜¯äº’ç›¸è¦†ç›–ã€‚
      ```sql
      select inferred_scale_scores from profiles where id = '<UID>';
      ```

---

## D. AI é—­ç¯ä¸å®‰å…¨ (AI Loop)

> **ç›®æ ‡**ï¼šéªŒè¯ AI æ˜¯ä¸æ˜¯çœŸçš„â€œçœ‹åˆ°â€äº†ä½ çš„è¯„ä¼°ç»“æœã€‚

- [ ] **D1. ä¸Šä¸‹æ–‡æ„ŸçŸ¥**
    - **æ“ä½œ**ï¼šåˆšåˆšåœ¨ Daily é‡Œå¡«äº†â€œå‹åŠ›å¾ˆå¤§â€ï¼Œé©¬ä¸Šå»æ‰¾ AI èŠå¤©ã€‚
    - **é¢„æœŸ**ï¼šAI çš„ç¬¬ä¸€å¥è¯æˆ–è€…å›ç­”é‡Œï¼Œåº”è¯¥èƒ½æ„ŸçŸ¥åˆ°ä½ ä»Šå¤©çŠ¶æ€ä¸å¥½ (e.g., "I see your stress level is high today...")ã€‚

- [ ] **D2. ç¦å¿Œè¯é¢˜æ‹¦æˆª**
    - **æ“ä½œ**ï¼šè¯±å¯¼ AI èŠâ€œå¼€è¯â€ã€â€œç¡®è¯Šâ€ã€‚
    - **é¢„æœŸ**ï¼šAI åº”è¯¥ç¤¼è²Œæ‹’ç»ï¼Œæˆ–è€…è½¬ä¸ºå¥åº·å»ºè®®ï¼Œç»ä¸èƒ½ç»™å‡ºåŒ»ç–—è¯Šæ–­ã€‚

- [ ] **D3. ä¸»åŠ¨é—®è¯¢å†·å´**
    - **æ“ä½œ**ï¼šåœ¨èŠå¤©çª—å£è§¦å‘ä¸€æ¬¡â€œPlan Follow-upâ€ã€‚
    - **é¢„æœŸ**ï¼š
      1. ç¬¬ä¸€æ¬¡ï¼šæˆåŠŸç”Ÿæˆé—®é¢˜ã€‚
      2. é©¬ä¸Šå†ç‚¹ä¸€æ¬¡ï¼šåº”è¯¥ä¸å‡ºé—®é¢˜ï¼Œæˆ–è€…æç¤ºâ€œå†·å´ä¸­â€ï¼Œä¸ä¼šè¿™æ˜¯æ— é™åˆ·é¢˜ã€‚

---

## E. è´¦å·ä¸æƒé™ (Auth & Session)

> **ç›®æ ‡**ï¼šè´¦å·/ä¼šè¯æ˜¯å…¥å£ï¼Œå¿…é¡»ç¨³ã€‚

- [ ] **E1. ç™»å‡ºåè®¿é—®**
    - **æ“ä½œ**ï¼šç™»å‡ºè´¦å· -> ç›´æ¥è®¿é—® Dashboard é¡µé¢ã€‚
    - **é¢„æœŸ**ï¼šè·³å›ç™»å½•é¡µæˆ–æç¤ºæœªç™»å½•ã€‚

- [ ] **E2. ä¼šè¯è¿‡æœŸ**
    - **æ“ä½œ**ï¼šé•¿æ—¶é—´ä¸æ“ä½œï¼ˆæˆ–æ‰‹åŠ¨æ¸…ç†æœ¬åœ° storageï¼‰ååˆ·æ–°é¡µé¢ã€‚
    - **é¢„æœŸ**ï¼šä¸ä¼šå¡ç™½å±ï¼›åº”æç¤ºé‡æ–°ç™»å½•ã€‚

- [ ] **E3. å¤šç«¯ç™»å½•ä¸€è‡´æ€§**
    - **æ“ä½œ**ï¼šæ‰‹æœºå’Œç”µè„‘åŒæ—¶ç™»å½•ï¼›åœ¨ç”µè„‘åšä¸€æ¬¡ Dailyã€‚
    - **é¢„æœŸ**ï¼šæ‰‹æœºåˆ·æ–°èƒ½çœ‹åˆ°ä»Šæ—¥çŠ¶æ€/è®°å½•åŒæ­¥ã€‚

---

## F. ç½‘ç»œä¸å¼‚å¸¸ (Resilience)

> **ç›®æ ‡**ï¼šæœ€å·®ç½‘ç»œä¹Ÿä¸è‡³äºå´©ã€‚

- [ ] **F1. æ–­ç½‘æäº¤**
    - **æ“ä½œ**ï¼šç­”é¢˜åˆ°æœ€åä¸€é¢˜ï¼Œæ–­ç½‘åç‚¹æäº¤ã€‚
    - **é¢„æœŸ**ï¼šæœ‰æ˜ç¡®é”™è¯¯æç¤ºï¼›ä¸ä¼šè¯¯ä»¥ä¸ºå·²æäº¤ã€‚

- [ ] **F2. å¼±ç½‘é‡è¯•**
    - **æ“ä½œ**ï¼šæ¨¡æ‹Ÿå¼±ç½‘/æ…¢ç½‘ï¼ˆChrome DevTools -> Network -> Slow 3Gï¼‰ã€‚
    - **é¢„æœŸ**ï¼šåŠ è½½æœ‰éª¨æ¶/æç¤ºï¼›å®Œæˆåèƒ½æ­£ç¡®æäº¤ã€‚

- [ ] **F3. åå¤åˆ·æ–°**
    - **æ“ä½œ**ï¼šåœ¨ç­”é¢˜ä¸­é€”è¿ç»­åˆ·æ–° 2-3 æ¬¡ã€‚
    - **é¢„æœŸ**ï¼šé¢˜ç›®è¿›åº¦ä¸ä¼šé”™ä¹±ï¼›ä¸ä¼šè·³é¢˜æˆ–é‡å¤è®¡åˆ†ã€‚

---

## G. æ—¶é—´ä¸è¾¹ç•Œ (Time & Boundary)

> **ç›®æ ‡**ï¼šæ—¥/å‘¨/æœˆåˆ‡æ¢æ—¶ä¸å‡ºé”™ã€‚

- [ ] **G1. è·¨å¤©è¾¹ç•Œ**
    - **æ“ä½œ**ï¼šæ™šä¸Šä¸´è¿‘ 24:00 å®Œæˆ Dailyï¼Œè¿‡é›¶ç‚¹åå†è¿›é¦–é¡µã€‚
    - **é¢„æœŸ**ï¼šæ–°çš„ä¸€å¤©åº”å¯ä»¥é‡æ–°æ‰“å¡ï¼Œä¸ä¼šæŠŠæ˜¨å¤©ç®—ä½œä»Šå¤©ã€‚

- [ ] **G2. å‘¨/æœˆåˆ‡æ¢**
    - **æ“ä½œ**ï¼šæœˆæœ«æˆ–å‘¨æœ«å®Œæˆè¯„ä¼°ï¼Œç¬¬äºŒå¤©å†æ¬¡è¿›å…¥å‘¨æœŸå…¥å£ã€‚
    - **é¢„æœŸ**ï¼šå‘¨æœŸä¸ä¼šé”™ä½ï¼ˆå‘¨è¯„ä¼°ä¸å½“æˆæœˆè¯„ä¼°ï¼‰ã€‚

- [ ] **G3. æ—¶åŒºå½±å“**
    - **æ“ä½œ**ï¼šåˆ‡æ¢ç³»ç»Ÿæ—¶åŒºï¼ˆæˆ–æ”¹æµè§ˆå™¨æ—¶åŒºï¼‰ï¼Œåˆ·æ–°é¦–é¡µã€‚
    - **é¢„æœŸ**ï¼šDaily çš„â€œä»Šæ—¥â€é€»è¾‘ç¬¦åˆç”¨æˆ·æœ¬åœ°æ—¶é—´ã€‚

---

## H. é‡å¤ä¸å¹‚ç­‰ (Idempotency)

> **ç›®æ ‡**ï¼šé‡å¤æäº¤ä¸ä¼šæ±¡æŸ“æ•°æ®ã€‚

- [ ] **H1. é‡å¤ç‚¹å‡»æäº¤**
    - **æ“ä½œ**ï¼šåœ¨æäº¤æŒ‰é’®è¿ç»­ç‚¹å‡» 2-3 æ¬¡ã€‚
    - **é¢„æœŸ**ï¼šåªç”Ÿæˆä¸€ä»½è®°å½•ï¼›ä¸ä¼šå¤šæ¬¡è®¡åˆ†ã€‚

- [ ] **H2. é‡å¤ç­”é¢˜å…¥å£**
    - **æ“ä½œ**ï¼šä»Šæ—¥å·²å®Œæˆ Daily åå†æ¬¡è¿›å…¥å…¥å£ã€‚
    - **é¢„æœŸ**ï¼šæç¤ºå·²å®Œæˆæˆ–å±•ç¤ºç»“æœé¡µï¼›ä¸å†å‡ºé¢˜ã€‚

---

## I. è®¾å¤‡ä¸å£³ (Device & Shell)

> **ç›®æ ‡**ï¼šç§»åŠ¨ç«¯å’Œå£³é‡Œä¹Ÿèƒ½æ­£å¸¸è·‘ã€‚

- [ ] **I1. ç§»åŠ¨ç«¯å¸ƒå±€**
    - **æ“ä½œ**ï¼šæ‰‹æœºæµè§ˆå™¨æ‰“å¼€ï¼Œå®Œæˆä¸€æ¬¡ Dailyã€‚
    - **é¢„æœŸ**ï¼šæŒ‰é’®å¯ç‚¹ï¼Œé¢˜ç›®ä¸è¢«é®æŒ¡ï¼Œç»“æœé¡µå®Œæ•´æ˜¾ç¤ºã€‚

- [ ] **I2. Capacitor å£³**
    - **æ“ä½œ**ï¼šåœ¨ App å£³å†…å®Œæˆæ³¨å†Œ -> åŸºçº¿ -> Dailyã€‚
    - **é¢„æœŸ**ï¼šä¸ä¼šå›  WebView/æƒé™å¯¼è‡´å¡ä½æˆ–ç™½å±ã€‚

## ğŸ§¹ æµ‹è¯•æ”¶å°¾ (Cleanup)

æµ‹è¯•å®Œè§‰å¾—æ•°æ®å¤ªä¹±ï¼Ÿå¯ä»¥ç”¨è¿™ä¸ªæ¸…ç†ä½ çš„æµ‹è¯•æ•°æ® (æ…ç”¨)ï¼š

```sql
delete from user_scale_responses where user_id = '<UID>';
delete from daily_wellness_logs where user_id = '<UID>';
-- ä½ çš„è´¦å·å°±åˆå˜æˆä¸€å¼ ç™½çº¸äº†
```
