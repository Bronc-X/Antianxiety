<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liquid Glass UI Demo</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #000; }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useRef, useEffect } = React;
        const { motion, AnimatePresence, useMotionValue, useTransform, animate } = window.Motion;

        // --- Icons (Inline SVGs for standalone) ---
        const Icons = {
            Info: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>,
            ChevronRight: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>,
            Activity: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            Clock: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Volume2: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>,
            Plus: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M5 12h14"/><path d="M12 5v14"/></svg>,
            LayoutDashboard: ({size=24, className, style}) => <svg style={style} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>,
            Dumbbell: ({size=24, className}) => <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m6.5 6.5 11 11"/><path d="m21 21-1-1"/><path d="m3 3 1 1"/><path d="m18 22 4-4"/><path d="m2 6 4-4"/><path d="m3 10 7-7"/><path d="m14 21 7-7"/></svg>,
            BarChart2: ({size=24, className, style}) => <svg style={style} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/></svg>,
            TrendingUp: ({size=24, className, style}) => <svg style={style} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>,
        };

        // --- Shared Components (LiquidGlassWidgets) ---

        const LiquidGlassCard = ({ children, className, tint = "neutral", interactive = false, onClick }) => {
            const tintColors = {
                neutral: "bg-white/5",
                green: "bg-emerald-500/12",
                blue: "bg-blue-500/12",
                red: "bg-red-500/12",
            };

            const Wrapper = interactive ? motion.div : "div";
            
            return (
                <Wrapper
                    whileTap={interactive ? { scale: 0.98 } : undefined}
                    onClick={onClick}
                    className={`relative overflow-hidden rounded-[22px] border border-white/10 backdrop-blur-[24px] shadow-[0_12px_30px_rgba(0,0,0,0.35)] before:absolute before:inset-0 before:rounded-[22px] before:shadow-[inset_0_1px_0_rgba(255,255,255,0.08)] before:content-[''] ${tintColors[tint]} ${className || ''}`}
                >
                    <div className="absolute inset-0 opacity-[0.04] pointer-events-none"
                         style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }}
                    />
                    <div className="absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-white/25 to-transparent opacity-60" />
                    <div className="absolute inset-x-0 bottom-0 h-px bg-gradient-to-r from-transparent via-black/20 to-transparent opacity-30" />
                    <div className="relative z-10">{children}</div>
                </Wrapper>
            );
        };

        const AnimatedBlobBackground = ({ theme = "green" }) => {
            const colors = {
                green: ["bg-emerald-500/50", "bg-lime-400/40", "bg-teal-500/30"],
                blue: ["bg-blue-600/50", "bg-cyan-400/40", "bg-indigo-500/30"],
                red: ["bg-red-600/50", "bg-orange-400/40", "bg-rose-500/30"],
            }[theme];

            return (
                <div className="absolute inset-0 overflow-hidden pointer-events-none -z-10">
                    <div className="absolute inset-0 bg-[#0B0B0D]" />
                    <motion.div
                        className={`absolute w-[85vw] h-[85vw] rounded-full mix-blend-screen opacity-25 blur-[90px] ${colors[0]}`}
                        animate={{ x: ["-18%", "18%", "-18%"], y: ["-18%", "12%", "-18%"], scale: [1, 1.12, 1] }}
                        transition={{ duration: 14, repeat: Infinity, ease: "easeInOut" }}
                        style={{ top: "-20%", left: "-25%" }}
                    />
                    <motion.div
                        className={`absolute w-[70vw] h-[70vw] rounded-full mix-blend-screen opacity-22 blur-[70px] ${colors[1]}`}
                        animate={{ x: ["15%", "-12%", "15%"], y: ["30%", "0%", "30%"], scale: [1.05, 0.92, 1.05] }}
                        transition={{ duration: 16, repeat: Infinity, ease: "easeInOut", delay: 1 }}
                        style={{ top: "18%", right: "-8%" }}
                    />
                </div>
            );
        };

        const GlassTabBar = ({ tabs, activeTab, onTabChange }) => {
            const activeAccent = "#ff4d8d";
            return (
                <div className="fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-[86%] max-w-[320px]">
                    <div className="flex items-center gap-1.5 p-1.5 rounded-[28px] bg-black/60 backdrop-blur-[32px] border border-white/10 shadow-[0_10px_32px_rgba(0,0,0,0.45)]">
                        {tabs.map((tab) => {
                            const isActive = activeTab === tab.id;
                            const Icon = tab.icon;
                            return (
                                <button key={tab.id} onClick={() => onTabChange(tab.id)} className={`relative flex-1 py-2.5 rounded-[18px] flex flex-col items-center justify-center gap-1 text-[10px] font-semibold tracking-wide transition-colors duration-300 ${isActive ? "text-white" : "text-white/60 hover:text-white/80"}`}>
                                    {isActive && (
                                        <motion.div layoutId="glass-tab-pill" className="absolute inset-0 rounded-[18px] border" style={{ backgroundColor: `${activeAccent}26`, borderColor: `${activeAccent}55` }} transition={{ type: "spring", bounce: 0.25, duration: 0.55 }} />
                                    )}
                                    <span className="relative z-10 flex flex-col items-center gap-0.5">
                                        <Icon size={18} strokeWidth={isActive ? 2.5 : 2} style={{ color: isActive ? activeAccent : undefined }} />
                                        <span style={{ color: isActive ? activeAccent : undefined }}>{tab.label}</span>
                                    </span>
                                </button>
                            );
                        })}
                    </div>
                </div>
            );
        };

        const RPESlider = ({ value, onChange }) => {
            const constraintsRef = useRef(null);
            const percent = Math.max(0, Math.min(100, ((value - 1) / 9) * 100));
            
            const getColor = (v) => {
                if (v <= 3) return "#22c55e"; 
                if (v <= 5) return "#f59e0b";
                if (v <= 6) return "#f97316";
                if (v <= 8) return "#ef4444";
                return "#a855f7";
            };
            
            const currentColor = getColor(value);

            return (
                <div className="flex flex-col items-center w-full max-w-sm mx-auto p-4 space-y-6">
                     <div className="text-center space-y-1">
                        <motion.div key={Math.round(value)} initial={{ opacity: 0, y: 10, scale: 0.8 }} animate={{ opacity: 1, y: 0, scale: 1 }} className="text-7xl font-bold tracking-tighter" style={{ color: currentColor }}>
                            {Math.round(value)}
                        </motion.div>
                        <div className="text-xl font-semibold text-white/95">
                             {value <= 3 ? "Easy" : value <= 6 ? "Hard" : "Very Hard"}
                        </div>
                    </div>
                    <div className="relative w-full h-12 flex items-center justify-center select-none touch-none" ref={constraintsRef}>
                        <div className="absolute inset-x-0 h-3 rounded-full bg-gradient-to-r from-emerald-500 via-yellow-400 via-orange-500 to-purple-600 opacity-50 blur-[3px]" />
                        <div className="absolute inset-x-0 h-3 rounded-full bg-gradient-to-r from-emerald-500 via-yellow-400 via-orange-500 to-purple-600" />
                        <motion.div
                            drag="x"
                            dragConstraints={constraintsRef}
                            dragElastic={0}
                            dragMomentum={false}
                            onDrag={(_, info) => {
                                if (constraintsRef.current) {
                                    const width = constraintsRef.current.offsetWidth;
                                    const newPercent = Math.min(100, Math.max(0, (info.point.x - constraintsRef.current.getBoundingClientRect().left) / width * 100));
                                    onChange(1 + (newPercent / 100) * 9);
                                }
                            }}
                            animate={{ left: `${percent}%`, x: "-50%" }}
                            className="absolute top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-[#0B0B0D] z-20 cursor-grab active:cursor-grabbing"
                            style={{ boxShadow: `0 0 20px ${currentColor}80` }}
                        >
                             <div className="absolute inset-1 rounded-full border-2 bg-white/90" style={{ borderColor: currentColor }} />
                        </motion.div>
                    </div>
                </div>
            );
        };

        // --- Demo App ---
        const DemoApp = () => {
            const [activeTab, setActiveTab] = useState("today");
            const [rpeOpen, setRpeOpen] = useState(false);
            const [rpeValue, setRpeValue] = useState(4);

            const tabs = [
                { id: "today", label: "Today", icon: Icons.LayoutDashboard },
                { id: "workouts", label: "Workouts", icon: Icons.BarChart2 },
                { id: "progress", label: "Progress", icon: Icons.TrendingUp },
            ];

            return (
                <div className="min-h-screen relative overflow-hidden text-white bg-[#0B0B0D] selection:bg-emerald-500/30">
                    {/* View/Theme Switcher */}
                    <AnimatePresence mode="wait">
                        {activeTab === "today" && (
                            <motion.div key="today" initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}} className="min-h-screen">
                                <AnimatedBlobBackground theme="green" />
                                {/* Hero */}
                                <div className="relative pt-8 px-6 pb-24">
                                     <div className="flex justify-between items-center mb-6">
                                        <h1 className="text-3xl font-bold tracking-tight">Today</h1>
                                        <div className="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/20 backdrop-blur-md">ðŸ™‚</div>
                                     </div>

                                     <div className="space-y-3">
                                         <div className="flex items-start justify-between">
                                             <div className="flex items-baseline">
                                                 <span className="text-[68px] font-bold tracking-tighter">73</span>
                                                 <span className="text-2xl font-bold text-white/90 ml-1">%</span>
                                             </div>
                                             <div className="h-7 w-7 rounded-full bg-white/15 border border-white/20 flex items-center justify-center">
                                                 <Icons.Info size={14} className="text-white/70" />
                                             </div>
                                         </div>
                                         <h3 className="text-lg font-semibold text-white">Moderate Readiness</h3>
                                         <p className="text-sm text-white/80 leading-relaxed max-w-[320px]">
                                             You've started light, and your readiness can hold up for another session.
                                         </p>
                                     </div>

                                     <LiquidGlassCard className="mt-8 px-4 py-3 rounded-full before:rounded-full" interactive onClick={()=>{}}>
                                         <div className="flex items-center justify-between">
                                             <span className="text-sm font-semibold text-white/90">Overnight Data Missing</span>
                                             <Icons.ChevronRight className="text-white/40" size={16} />
                                         </div>
                                     </LiquidGlassCard>

                                     <div className="mt-8 space-y-3">
                                        <h3 className="text-base font-semibold text-white/90">Today's Workouts</h3>
                                        <LiquidGlassCard className="p-4" interactive>
                                            <div className="flex items-center gap-4">
                                                <div className="w-12 h-12 rounded-[14px] bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center shadow-lg shadow-pink-500/20">
                                                    <Icons.Activity size={24} />
                                                </div>
                                                <div className="flex-1">
                                                    <h4 className="font-semibold text-white">Aerobics</h4>
                                                    <div className="flex items-center gap-3 mt-1 text-xs text-white/60">
                                                        <span>Today</span> <span className="w-1 h-1 rounded-full bg-white/30" />
                                                        <div className="flex items-center gap-1"><Icons.Clock size={10} /> 0:05:00</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </LiquidGlassCard>
                                     </div>
                                </div>
                            </motion.div>
                        )}

                        {activeTab === "workouts" && (
                            <motion.div key="workouts" initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}} className="min-h-screen">
                                <AnimatedBlobBackground theme="blue" />
                                <div className="relative pt-8 px-6 pb-24 space-y-6">
                                    <div className="flex justify-between items-center">
                                        <h1 className="text-3xl font-bold tracking-tight">Workouts</h1>
                                        <div onClick={() => setRpeOpen(true)} className="w-10 h-10 flex items-center justify-center cursor-pointer bg-white/10 rounded-xl border border-white/10 backdrop-blur-md">
                                            <Icons.Plus size={20} />
                                        </div>
                                    </div>

                                    <div className="flex p-1 rounded-full bg-white/10 border border-white/10">
                                        {["Week", "Month", "Year"].map((r, i) => (
                                            <button key={r} className={`flex-1 py-1.5 text-xs font-semibold rounded-full transition-all ${i===0 ? "bg-white/15 text-white" : "text-white/50"}`}>{r}</button>
                                        ))}
                                    </div>

                                    <LiquidGlassCard className="p-4 h-[220px]">
                                        <div className="flex justify-between text-xs text-white/50 mb-2">
                                            <span>Running Distance</span>
                                            <span>Example Chart</span>
                                        </div>
                                        <div className="h-full flex items-end justify-between px-2 pb-2">
                                            {[30, 45, 25, 60, 80, 50, 70].map((h, i) => (
                                                <div key={i} className="w-6 bg-[#2ea7ff] rounded-t-sm opacity-80" style={{height: `${h}%`}} />
                                            ))}
                                        </div>
                                    </LiquidGlassCard>
                                    
                                    <div className="grid grid-cols-2 gap-4">
                                        <LiquidGlassCard className="p-4 bg-[#2ea7ff] text-[#0B0B0D] border-transparent">
                                            <div className="text-[10px] uppercase font-semibold text-[#0B0B0D]/70">Load</div>
                                            <div className="text-xl font-bold">10,241</div>
                                        </LiquidGlassCard>
                                        <LiquidGlassCard className="p-4">
                                            <div className="text-[10px] uppercase font-semibold text-white/40">Duration</div>
                                            <div className="text-xl font-bold">113h</div>
                                        </LiquidGlassCard>
                                    </div>
                                </div>
                            </motion.div>
                        )}
                        
                        {activeTab === "progress" && (
                            <motion.div key="progress" initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}} className="min-h-screen flex items-center justify-center">
                                <AnimatedBlobBackground theme="red" />
                                <div className="text-center">
                                    <h1 className="text-2xl font-bold">Progress</h1>
                                    <p className="text-white/50">Placeholder...</p>
                                </div>
                            </motion.div>
                        )}
                    </AnimatePresence>

                    {/* RPE Modal Overlay */}
                    <AnimatePresence>
                        {rpeOpen && (
                            <>
                                <motion.div initial={{opacity:0}} animate={{opacity:1}} exit={{opacity:0}} onClick={() => setRpeOpen(false)} className="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 pointer-events-auto" />
                                <motion.div 
                                    initial={{y: "100%"}} animate={{y: 0}} exit={{y: "100%"}} transition={{type:"spring", damping:25, stiffness:300}}
                                    className="fixed bottom-0 left-0 right-0 z-50 bg-[#16171c]/95 border-t border-white/10 rounded-t-[30px] p-6 pb-12 shadow-2xl"
                                >
                                    <div className="w-12 h-1.5 bg-white/20 rounded-full mx-auto mb-6" />
                                    <h2 className="text-xl font-bold text-center mb-6">Perceived Exertion</h2>
                                    <RPESlider value={rpeValue} onChange={setRpeValue} />
                                    
                                    <div className="mt-8">
                                        <button onClick={() => setRpeOpen(false)} className="w-full py-4 rounded-2xl font-bold text-lg text-black shadow-lg" style={{backgroundColor: rpeValue <= 3 ? "#22c55e" : rpeValue <= 6 ? "#f97316" : "#ef4444"}}>
                                            Save
                                        </button>
                                    </div>
                                </motion.div>
                            </>
                        )}
                    </AnimatePresence>

                    <GlassTabBar tabs={tabs} activeTab={activeTab} onTabChange={setActiveTab} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DemoApp />);
    </script>
</body>
</html>
